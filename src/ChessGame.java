import java.util.concurrent.Semaphore;


 //–ì–æ–ª–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –∑–∞–ø—É—Å–∫—É —Å–∏–º—É–ª—è—Ü—ñ—ó —à–∞—Ö–æ–≤–æ—ó –≥—Ä–∏.
 //–°—Ç–≤–æ—Ä—é—î –≥—Ä–∞–≤—Ü—ñ–≤ —Ç–∞ –∫–æ–æ—Ä–¥–∏–Ω—É—î –ø–æ—á–∞—Ç–æ–∫ —ñ –∫—ñ–Ω–µ—Ü—å –≥—Ä–∏.

public class ChessGame {

    public static void main(String[] args) {
        System.out.println("üëë –ü–æ—á–∏–Ω–∞—î–º–æ —à–∞—Ö–æ–≤—É –ø–∞—Ä—Ç—ñ—é –º—ñ–∂ –¥–≤–æ–º–∞ –≥—Ä–∞–≤—Ü—è–º–∏! üëë\n");

        // –°—Ç–≤–æ—Ä—é—î–º–æ –¥–≤–∞ —Å–µ–º–∞—Ñ–æ—Ä–∏.
        // –û–¥–Ω–æ—á–∞—Å–Ω–æ —ñ—Å–Ω—É—î –ª–∏—à–µ –æ–¥–∏–Ω –∫–ª—é—á.

        // whiteSemaphore(1) - –ì—Ä–∞–≤–µ—Ü—å –±—ñ–ª–∏–º–∏ –º–∞—î –∫–ª—é—á –Ω–∞ –ø–æ—á–∞—Ç–∫—É –≥—Ä–∏ (1 –¥–æ–∑–≤—ñ–ª).
        Semaphore whiteSemaphore = new Semaphore(1);

        // blackSemaphore(0) - –ì—Ä–∞–≤–µ—Ü—å —á–æ—Ä–Ω–∏–º–∏ —á–µ–∫–∞—î, –ø–æ–∫–∏ –±—ñ–ª—ñ –ø–µ—Ä–µ–¥–∞–¥—É—Ç—å –π–æ–º—É –∫–ª—é—á (0 –¥–æ–∑–≤–æ–ª—ñ–≤).
        Semaphore blackSemaphore = new Semaphore(0);

        // –°—Ç–≤–æ—Ä—é—î–º–æ –¥–≤–æ—Ö –≥—Ä–∞–≤—Ü—ñ–≤.
        // –ì—Ä–∞–≤–µ—Ü—å –ë—ñ–ª–∏–º–∏ —á–µ–∫–∞—î –Ω–∞ "–±—ñ–ª–∏–π" —Å–µ–º–∞—Ñ–æ—Ä —ñ –ø—ñ—Å–ª—è —Ö–æ–¥—É –∑–≤—ñ–ª—å–Ω—è—î "—á–æ—Ä–Ω–∏–π".
        ChessPlayer whitePlayer = new ChessPlayer("–ì—Ä–∞–≤–µ—Ü—å –ë—ñ–ª–∏–º–∏", whiteSemaphore, blackSemaphore);

        // –ì—Ä–∞–≤–µ—Ü—å –ß–æ—Ä–Ω–∏–º–∏ —á–µ–∫–∞—î –Ω–∞ "—á–æ—Ä–Ω–∏–π" —Å–µ–º–∞—Ñ–æ—Ä —ñ –ø—ñ—Å–ª—è —Ö–æ–¥—É –∑–≤—ñ–ª—å–Ω—è—î "–±—ñ–ª–∏–π".
        ChessPlayer blackPlayer = new ChessPlayer("–ì—Ä–∞–≤–µ—Ü—å –ß–æ—Ä–Ω–∏–º–∏", blackSemaphore, whiteSemaphore);

        // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ç–æ–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–∞—à–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
        Thread whiteThread = new Thread(whitePlayer);
        Thread blackThread = new Thread(blackPlayer);

        // –ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –ø–æ—Ç–æ–∫—ñ–≤: –∑ NEW –Ω–∞ RUNNABLE
        System.out.println("–ì—Ä–∞–≤—Ü—ñ —Å—ñ–¥–∞—é—Ç—å –∑–∞ —Å—Ç—ñ–ª. –ü–æ—á–∏–Ω–∞—î–º–æ –≥—Ä—É...\n");
        whiteThread.start();
        blackThread.start();

        try {
            // –ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ —á–µ–∫–∞—î, –ø–æ–∫–∏ –æ–±–∏–¥–≤–∞ –≥—Ä–∞–≤—Ü—ñ –∑–∞–≤–µ—Ä—à–∞—Ç—å –≥—Ä—É (—Å—Ç–∞–Ω –ø–æ—Ç–æ–∫—É - TERMINATED)
            whiteThread.join();
            blackThread.join();
        } catch (InterruptedException e) {
            System.err.println("–ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –±—É–≤ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∏–π.");
            Thread.currentThread().interrupt();
        }

        System.out.println("\nüéâüéâüéâ –ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üéâüéâüéâ");
    }
}